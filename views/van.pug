//- extends layout

//- block content
//-   h1= title
//-   - let items = results
//-   div(claass="container-fluid mt-3")
//-    div(class="row m-1")
//-     each item,index in items
//-      - let destination = `dispatch(\"/van/update?id=${item._id}\")`
//-         div(class="row" onclick=`buy(${index})`)
//-             div(class="col-sm-2") #{item.van_color}
//-             div(class="col-sm-2") #{item.van_size} 
//-             div(class="col-sm-2") #{item.van_cost}
//-         button.btn( class="btn-primary ml-1", onclick= destination) Update
//-   script.
//-    function buy(itemNo)
//-    {
//-      alert(`You purchased Item ${itemNo+1}`)
//-    }
//-    function dispatch(path)
//-    {
//-      window.location.href=path
//-    }
    
 //- New code added for Assignment13   
extends layout
block content
  h1= title
  - let result = results;
  a(class="btn btn-success" href="/van/create") Create
  div(class="container-fluid mt-3")
    div(class="row m-1")
      each result, index in results
        - let destination = `dispatch(\"/van/update?id=${result._id}\")`
        div(class="col-sm-2" onclick=`buy(${index})`)  
          | #{result.van_color} - #{result.van_size} - #{result.van_cost}
          button.btn(class="btn-primary ml-1", onclick=destination) Update
          a(class="btn btn-danger" href=`/van/delete?id=${result._id}`) Delete
          a(class="btn btn-dark" href=`/van/detail?id=${result._id}`) Details
  br
  div(class="container-fluid")
    div(class="row")
      - for (var i = 0; i < results.length; i++)
        div(class="col-sm-2" width="215px" onClick=`buy(${i + 1})`) #{results[i].van_color}
